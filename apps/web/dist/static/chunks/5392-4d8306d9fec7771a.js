"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3886,5392],{3886:(e,a,t)=>{let r;t.d(a,{createWagmiConfig:()=>L,Qr:()=>N,Gv:()=>x,Wg:()=>U});var n=t(8025),l=t(72117),c=t(82677);let s=(0,c.x)({id:31337,name:"Hardhat",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}}),o=(0,c.x)({id:0xaa36a7,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0});var i=t(2215);let d=(0,c.x)({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0x18938b0}}}),u=(0,c.x)({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:250,rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}});var C=t(80287),p=t(30289),h=t(38276),b=t(16350),m=t(37811);class E{warn(e){for(var a=arguments.length,t=Array(a>1?a-1:0),r=1;r<a;r++)t[r-1]=arguments[r];let n=e+JSON.stringify(t);this.warnedMessages.has(n)||(this.warnedMessages.add(n),b.vF.warn("WagmiConfig",e,{args:t}))}info(e){for(var a=arguments.length,t=Array(a>1?a-1:0),r=1;r<a;r++)t[r-1]=arguments[r];let n=e+JSON.stringify(t);this.warnedMessages.has(n)||(this.warnedMessages.add(n),b.vF.info("WagmiConfig",e,{args:t}))}clear(){this.warnedMessages.clear()}constructor(){this.warnedMessages=new Set}}let f=new E,v={...s,name:"Hardhat Local",id:31337,rpcUrls:{default:{http:["http://localhost:8545"]},public:{http:["http://localhost:8545"]}}},_="true"===m.env.NEXT_PUBLIC_ENABLE_TESTNET,T=()=>_?[o,i.r,d,u]:[i.r,d,u],g=null,L=()=>{if(!(0,h.Iz)())return null;if(g)return g;let e="true"===m.env.NEXT_PUBLIC_DISABLE_WALLETCONNECT,a=(()=>{if(void 0!==r)return r;let e=m.env.NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID;return e&&"YOUR_PROJECT_ID_HERE"!==e?/^[a-f0-9]{32}$/.test(e)?(r=e,e):(f.warn("⚠️ WalletConnect项目ID格式无效，应为32位十六进制字符串"),f.warn("当前项目ID:",e),r=null,null):(f.warn("⚠️ WalletConnect项目ID未配置或使用默认占位符"),f.warn("请在.env文件中设置NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID"),f.warn("或在 https://cloud.reown.com 创建项目并获取项目ID"),r=null,null)})();try{let t=T(),r=(()=>{let e=T(),a={};for(let t of e)switch(t.id){case v.id:a[t.id]=(0,l.L)("http://localhost:8545");break;case i.r.id:a[t.id]=(0,l.L)(m.env.NEXT_PUBLIC_ETHEREUM_RPC_URL||"https://eth.llamarpc.com");break;case d.id:a[t.id]=(0,l.L)(m.env.NEXT_PUBLIC_POLYGON_RPC_URL||"https://polygon.llamarpc.com");break;case u.id:a[t.id]=(0,l.L)(m.env.NEXT_PUBLIC_ARBITRUM_RPC_URL||"https://arbitrum.llamarpc.com");break;case o.id:a[t.id]=(0,l.L)(m.env.NEXT_PUBLIC_SEPOLIA_RPC_URL||"https://ethereum-sepolia.publicnode.com")}return a})();if(e||!a)return f.info("\uD83D\uDD0C 使用注入式钱包连接（MetaMask等），无需 WalletConnect 项目ID"),g=(0,C.Z)({chains:t,transports:r,connectors:[(0,p.b)()],ssr:!0});return g=(0,n.getDefaultConfig)({appName:"QA Fixed Income Platform",projectId:a,chains:t,ssr:!0,transports:r}),f.info("✅ Wagmi配置创建成功，Web3功能已启用"),g}catch(e){return f.warn("❌ 创建Wagmi配置失败，启用Mock模式:",e),null}};L();let y={[v.id]:{name:"Hardhat Local",icon:"\uD83D\uDD27",explorerUrl:"http://localhost:8545",nativeCurrency:"ETH",usdtContract:"0x5FbDB2315678afecb367f032d93F642f64180aa3",treasuryContract:"0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9",qaCardContract:"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512"},[i.r.id]:{name:"以太坊主网",icon:"⧫",explorerUrl:"https://etherscan.io",nativeCurrency:"ETH",usdtContract:"0xdAC17F958D2ee523a2206206994597C13D831ec7"},[d.id]:{name:"Polygon",icon:"⬟",explorerUrl:"https://polygonscan.com",nativeCurrency:"MATIC",usdtContract:"0xc2132D05D31c914a87C6611C10748AEb04B58e8F"},[u.id]:{name:"Arbitrum One",icon:"\uD83D\uDD37",explorerUrl:"https://arbiscan.io",nativeCurrency:"ETH",usdtContract:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9"},[o.id]:{name:"Sepolia 测试网",icon:"⚡",explorerUrl:"https://sepolia.etherscan.io",nativeCurrency:"ETH",usdtContract:m.env.NEXT_PUBLIC_USDT_CONTRACT_TESTNET||"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0"}},U=Object.keys(y).map(Number),x=e=>!!e&&U.includes(e),N=e=>e&&y[e]?y[e]:null},54980:(e,a,t)=>{t.d(a,{G:()=>c});var r=t(67396),n=t(38276),l=t(16350);function c(){let[e,a]=(0,r.useState)(null),[c,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{if(!(0,n.Iz)())return s(!0);try{let e=await t.e(4078).then(t.bind(t,84078));a(e.default),s(!0)}catch(e){l.vF.warn("SafeToast","Failed to load react-hot-toast, toasts disabled",{error:e}),s(!0)}})()},[]),{success:(0,r.useCallback)(a=>{c&&e&&e.success(a)},[c,e]),error:(0,r.useCallback)(a=>{c&&e?e.error(a):l.vF.error("SafeToast","Toast Error (fallback)",{message:a})},[c,e]),loading:(0,r.useCallback)(a=>{if(c&&e)return e.loading(a)},[c,e]),dismiss:(0,r.useCallback)(()=>{c&&e&&e.dismiss()},[c,e])}}},55392:(e,a,t)=>{t.d(a,{Xr:()=>o});var r=t(67396),n=t(3886),l=t(54980),c=t(55771),s=t(37811);function o(){var e;let a=(0,l.G)(),{address:t,isConnected:o,isConnecting:i}=(0,c.yu)(),d=(0,c.tV)(),{switchChain:u,isPending:C,error:p}=(0,c.se)(),h=(0,c.hK)(),b=h.isPending||!1,m=h.error||null,E=(0,c.Dm)({address:t}),f=null==E?void 0:E.data,v=(null==E?void 0:E.isLoading)||!1,[_,T]=(0,r.useState)(),[g,L]=(0,r.useState)();(0,r.useEffect)(()=>{m&&(T("连接失败: ".concat(m.message)),a.error("钱包连接失败: ".concat(m.message)))},[m,a]),(0,r.useEffect)(()=>{p&&(T("网络切换失败: ".concat(p.message)),a.error("网络切换失败: ".concat(p.message)))},[p,a]),(0,r.useEffect)(()=>{if(d&&o){let e=(0,n.Qr)(d);e?(a.success("已连接到 ".concat(e.name)),L(d)):(0,n.Gv)(d)||a.error("不支持的网络 (Chain ID: ".concat(d,")")),T(void 0)}},[d,o,a]);let y=(0,r.useCallback)(e=>e?"".concat(e.slice(0,6),"...").concat(e.slice(-4)):"",[]),U=(0,r.useCallback)(e=>{if(!d)return null;let a=(0,n.Qr)(d);if(!a)return null;let t=a.explorerUrl;return e?"".concat(t,"/tx/").concat(e):t},[d]),x=(0,r.useCallback)(async e=>{if(!u)return void T("不支持网络切换");if(!(0,n.Gv)(e))return void T("不支持的网络 ID: ".concat(e));try{T(void 0),await u({chainId:e}),a.success("正在切换到网络...")}catch(t){let e=(null==t?void 0:t.message)||"网络切换失败";throw T(e),a.error(e),t}},[u,a]),N=(0,r.useCallback)(async()=>{let e="true"===s.env.NEXT_PUBLIC_ENABLE_TESTNET?0xaa36a7:1;n.Wg.includes(e)?await x(e):await x(n.Wg[0])},[x]);(0,r.useEffect)(()=>{o&&t&&(a.success("钱包已连接: ".concat(y(t))),g&&d!==g&&(0,n.Gv)(g)&&x(g))},[o,t,a,g,d,x,y]);let k=(0,r.useCallback)(()=>{T(void 0)},[]),I=d?null==(e=(0,n.Qr)(d))?void 0:e.name:void 0,P=!!d&&(0,n.Gv)(d);return[{isConnected:o,isConnecting:i||b,address:t,chainId:d,networkName:I,isNetworkSupported:P,ethBalance:f?Number.parseFloat(f.formatted).toFixed(4):void 0,isBalanceLoading:v,error:_},{openConnectModal:()=>{},openAccountModal:()=>{},openChainModal:()=>{},disconnect:h.disconnect||(()=>{}),switchToChain:x,switchToSupportedChain:N,formatAddress:y,getExplorerUrl:U,clearError:k}]}}}]);