(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6550],{4672:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(61200).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},13559:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(61200).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},20717:(e,r,t)=>{Promise.resolve().then(t.bind(t,77057))},55771:(e,r,t)=>{"use strict";t.d(r,{Dm:()=>C,Ki:()=>A,Rh:()=>b,hK:()=>f,ir:()=>E,se:()=>g,tV:()=>y,yu:()=>w,z:()=>_,zw:()=>T});var s=t(93979),n=t(98444),a=t(88433),c=t(45274),l=t(40769),i=t(13264),o=t(56448),d=t(67566),u=t(66640),h=t(23824);let m={address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:"disconnected"},x={data:void 0,error:null,isError:!1,isLoading:!1,isSuccess:!1,refetch:async()=>({})},v={connect:()=>{},connectAsync:async()=>{throw Error("Web3 not initialized")},connectors:[],error:null,isError:!1,isIdle:!0,isPending:!1,isSuccess:!1,reset:()=>{},status:"idle",variables:void 0},N={disconnect:()=>{},disconnectAsync:async()=>{throw Error("Web3 not initialized")},error:null,isError:!1,isIdle:!0,isPending:!1,isSuccess:!1,reset:()=>{},status:"idle",variables:void 0};function p(){try{return!!document.querySelector("[data-wagmi-provider]")}catch(e){return!1}}function y(){return(0,s.i)()}function g(){return(0,n.R)()}function w(){let e=(0,a.F)();return p()?e:{...m,...e}}function C(e){let r=(0,c.A)({address:null==e?void 0:e.address,query:{enabled:!!(null==e?void 0:e.address),refetchInterval:1e4}});return(null==e?void 0:e.address)&&p()?r:{...x,...r}}function f(){let e=(0,l.e)();return p()?e:{...v,...e}}function b(){let e=(0,i.u)();return p()?e:{...N,...e}}function A(e){return(0,o.v)(e)}function T(e){return(0,d.Q)(e)}function E(){return(0,u.x)()}function _(e){return(0,h.g)(e)}},59542:(e,r,t)=>{"use strict";t.d(r,{O:()=>l});var s=t(95688),n=t(87983),a=t(67396),c=t(32887);function l(e){let{children:r,requireKyc:t=!1,requireWallet:l=!1,requiredRoles:i=[]}=e,{user:o,isAuthenticated:d,isLoading:u}=(0,c.nc)(),h=(0,n.useRouter)(),m=(0,n.usePathname)();return(0,a.useEffect)(()=>{if(!u){if(!d){let e=encodeURIComponent(m);h.push("/auth/login?redirect=".concat(e));return}if(i.length>0&&o&&!i.includes(o.role))return void h.push("/dashboard");if(t&&o&&"APPROVED"!==o.kycStatus)return void h.push("/kyc");l&&o&&(!o.wallets||0===o.wallets.length)&&h.push("/dashboard/wallets")}},[!1,d,u,o,m,h,t,l,i]),u?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"正在验证身份..."})]})}):d?(0,s.jsx)(s.Fragment,{children:r}):null}},65561:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(61200).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},77057:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var s=t(95688),n=t(82638),a=t(13559),c=t(90789),l=t(65561),i=t(82924),o=t(23688),d=t(85210),u=t.n(d),h=t(67396);t(54980);var m=t(59542),x=t(97834),v=t(63186),N=t(16350),p=t(37811);let y=()=>t.e(4078).then(t.bind(t,84078)).then(e=>e.default),g={rpcUrls:{1:["https://eth-mainnet.alchemyapi.io/v2/demo"],137:["https://polygon-rpc.com"],42161:["https://arb1.arbitrum.io/rpc"],0xaa36a7:["https://sepolia.infura.io/v3/demo"]},contracts:{1:{treasury:p.env.NEXT_PUBLIC_TREASURY_CONTRACT_MAINNET,qaCard:p.env.NEXT_PUBLIC_QACARD_CONTRACT_MAINNET},137:{treasury:p.env.NEXT_PUBLIC_TREASURY_CONTRACT_POLYGON,qaCard:p.env.NEXT_PUBLIC_QACARD_CONTRACT_POLYGON},42161:{treasury:p.env.NEXT_PUBLIC_TREASURY_CONTRACT_ARBITRUM,qaCard:p.env.NEXT_PUBLIC_QACARD_CONTRACT_ARBITRUM},0xaa36a7:{treasury:p.env.NEXT_PUBLIC_TREASURY_CONTRACT_SEPOLIA,qaCard:p.env.NEXT_PUBLIC_QACARD_CONTRACT_SEPOLIA,mockUSDT:p.env.NEXT_PUBLIC_USDT_CONTRACT_SEPOLIA},31337:{treasury:p.env.NEXT_PUBLIC_TREASURY_CONTRACT_LOCALHOST,qaCard:p.env.NEXT_PUBLIC_QACARD_CONTRACT_LOCALHOST,mockUSDT:p.env.NEXT_PUBLIC_USDT_CONTRACT_LOCALHOST}},networks:{1:{name:"Ethereum Mainnet",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},blockExplorerUrls:["https://etherscan.io"],iconUrl:"/icons/ethereum.svg"},137:{name:"Polygon",nativeCurrency:{name:"Polygon",symbol:"MATIC",decimals:18},blockExplorerUrls:["https://polygonscan.com"],iconUrl:"/icons/polygon.svg"},42161:{name:"Arbitrum One",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},blockExplorerUrls:["https://arbiscan.io"],iconUrl:"/icons/arbitrum.svg"},0xaa36a7:{name:"Sepolia Testnet",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},blockExplorerUrls:["https://sepolia.etherscan.io"],iconUrl:"/icons/ethereum.svg"},31337:{name:"Localhost",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},blockExplorerUrls:["http://localhost:8545"],iconUrl:"/icons/ethereum.svg"}}};class w{getNetworkInfo(e){return this.config.networks[e]}getContractAddress(e,r){var t;return null==(t=this.config.contracts[e])?void 0:t[r]}isSupportedNetwork(e){return e in this.config.networks}getSupportedNetworks(){return Object.keys(this.config.networks).map(Number)}async addNetworkToWallet(e){if(!window.ethereum){let e=await y();return e&&e.error("请安装MetaMask或其他Web3钱包"),!1}let r=this.getNetworkInfo(e);if(!r){let r=await y();return r&&r.error("不支持的网络 ID: ".concat(e)),!1}try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x".concat(e.toString(16)),chainName:r.name,nativeCurrency:r.nativeCurrency,rpcUrls:this.config.rpcUrls[e]||[],blockExplorerUrls:r.blockExplorerUrls,iconUrls:r.iconUrl?[r.iconUrl]:void 0}]});let t=await y();return t&&t.success("已添加 ".concat(r.name," 到钱包")),!0}catch(r){N.vF.error("ConnectionManager","Failed to add network",{error:r});let e=await y();return e&&e.error("添加网络失败: ".concat(r.message)),!1}}async switchNetwork(e){if(!window.ethereum){let e=await y();return e&&e.error("请安装MetaMask或其他Web3钱包"),!1}try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(e.toString(16))}]});let r=this.getNetworkInfo(e);if(r){let e=await y();e&&e.success("已切换到 ".concat(r.name))}return!0}catch(t){if(4902===t.code)return this.addNetworkToWallet(e);N.vF.error("ConnectionManager","Failed to switch network",{error:t});let r=await y();return r&&r.error("网络切换失败: ".concat(t.message)),!1}}async checkContractDeployment(e){let r=this.config.contracts[e],t={};if(!r)return t;for(let[e,s]of Object.entries(r))t[e]=!!(s&&"0x0000000000000000000000000000000000000000"!==s);return t}getRecommendedNetwork(){return"true"===p.env.NEXT_PUBLIC_ENABLE_TESTNET?0xaa36a7:1}formatAddress(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e?"".concat(e.slice(0,2+r),"...").concat(e.slice(-r)):""}getExplorerUrl(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tx",s=this.getNetworkInfo(e);if(!(null==s?void 0:s.blockExplorerUrls[0]))return null;let n=s.blockExplorerUrls[0];return"".concat(n,"/").concat(t,"/").concat(r)}constructor(e=g){this.listeners=new Set,this.config=e}}new w,(0,h.createContext)(null),t(55392);var C=t(37811);function f(){return(0,s.jsx)(m.O,{children:(0,s.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,s.jsx)(x.Header,{}),(0,s.jsx)("main",{className:"flex-1 bg-gray-50",children:(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"推荐中心"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"邀请好友加入，共享收益奖励"})]})}),(()=>{let e="true"===C.env.NEXT_PUBLIC_ENABLE_DEBUG,r=new URLSearchParams(window.location.search);return e&&(null==r?void 0:r.get("e2e_wallet"))==="connected"?(0,s.jsxs)(v.Zp,{className:"mb-6",children:[(0,s.jsx)(v.aR,{children:(0,s.jsxs)(v.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(n.A,{className:"h-5 w-5"}),"钱包连接"]})}),(0,s.jsx)(v.Wu,{children:(0,s.jsx)(v.n6,{showNetworkInfo:!0,showContractStatus:!0})})]}):null})(),(0,s.jsxs)(v.Zp,{className:"mb-6",children:[(0,s.jsx)(v.aR,{children:(0,s.jsxs)(v.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(n.A,{className:"h-5 w-5"}),"Web3功能升级中"]})}),(0,s.jsxs)(v.Wu,{children:[(0,s.jsxs)(v.Fc,{className:"mb-4 border-blue-200 bg-blue-50",children:[(0,s.jsx)(a.A,{className:"h-4 w-4 text-blue-600"}),(0,s.jsxs)(v.TN,{className:"text-blue-800",children:[(0,s.jsx)("strong",{children:"功能升级通知："}),"推荐系统正在进行Web3集成优化，敬请期待！目前您可以："]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(c.A,{className:"h-5 w-5 text-blue-600"}),(0,s.jsx)("h3",{className:"font-semibold",children:"邀请好友"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"分享平台给朋友，共同参与固定收益投资"})]}),(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(l.A,{className:"h-5 w-5 text-green-600"}),(0,s.jsx)("h3",{className:"font-semibold",children:"获得奖励"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"朋友投资成功后，您将获得5%推荐佣金"})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(i.A,{className:"h-5 w-5 text-purple-600"}),(0,s.jsx)("h3",{className:"font-semibold",children:"推荐规则"})]}),(0,s.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,s.jsx)("li",{children:"• 成功推荐用户投资后，获得5%佣金奖励"}),(0,s.jsx)("li",{children:"• 佣金实时计算，无延迟"}),(0,s.jsx)("li",{children:"• 支持USDT和ETH投资产品"}),(0,s.jsx)("li",{children:"• 透明化链上记录，安全可靠"})]})]})]})]})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(u(),{href:"/products",children:(0,s.jsxs)(v.$n,{className:"flex items-center gap-2",children:[(0,s.jsx)(o.A,{className:"w-4 h-4"}),"查看投资产品"]})})})]})})]})})}function b(){let e="true"===C.env.NEXT_PUBLIC_ENABLE_DEBUG,r=new URLSearchParams(window.location.search);return e&&(null==r||r.get("e2e_wallet")),(0,s.jsx)(f,{})}},82638:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(61200).A)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},82924:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(61200).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},90789:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(61200).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},e=>{e.O(0,[5006,4104,9086,896,2683,1284,6905,6701,1279,5560,449,2039,2202,7834,5392,4171,7172,7358],()=>e(e.s=20717)),_N_E=e.O()}]);