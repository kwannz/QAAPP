(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6173],{3977:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var a=t(95688),r=t(27100),l=t(70541),c=t(87340),i=t(30643),n=t(59202),d=t(77346),o=t(17383),x=t(35083),h=t(40959),u=t(52856),m=t(52872),y=t(57297),p=t(85210),j=t.n(p),g=t(67396),f=t(59542),v=t(97834),N=t(54980),b=t(63186),w=t(37811);let A=[{id:"notif-1",title:"投资收益到账",message:"您的QA钻石卡产品已产生收益 $74.18，已自动转入您的账户",type:"success",category:"investment",createdAt:"2024-02-03T10:30:00Z",read:!1,priority:"normal"},{id:"notif-2",title:"市场风险提醒",message:"检测到加密货币市场波动加剧，建议关注您的投资组合风险状况",type:"warning",category:"market",createdAt:"2024-02-03T09:15:00Z",read:!1,priority:"high"},{id:"notif-3",title:"新产品上线通知",message:"QA白金卡现已上线！年化收益率高达20%，限时优惠中",type:"info",category:"product",createdAt:"2024-02-02T16:20:00Z",read:!0,priority:"normal"},{id:"notif-4",title:"账户安全提醒",message:"检测到您的账户在新设备登录，如非本人操作请及时修改密码",type:"error",category:"security",createdAt:"2024-02-02T14:45:00Z",read:!0,priority:"high"},{id:"notif-5",title:"投资到期提醒",message:"您的QA白银卡将于明天到期，收益将自动结算到您的账户",type:"info",category:"investment",createdAt:"2024-02-01T11:00:00Z",read:!0,priority:"normal"},{id:"notif-6",title:"系统维护通知",message:"系统将于今晚23:00-01:00进行维护升级，期间可能影响部分功能使用",type:"info",category:"system",createdAt:"2024-01-31T18:30:00Z",read:!0,priority:"low"}],k={total:26,unread:2,thisWeek:8,high:4};function C(){let e=(0,N.G)(),[s,t]=(0,g.useState)(""),[p,C]=(0,g.useState)("all"),[M,E]=(0,g.useState)("all"),[S,Z]=(0,g.useState)(A),z=S.filter(e=>{let t=e.title.toLowerCase().includes(s.toLowerCase())||e.message.toLowerCase().includes(s.toLowerCase()),a="all"===p||"read"===p&&e.read||"unread"===p&&!e.read,r="all"===M||e.category===M;return t&&a&&r});return(0,a.jsx)(f.O,{children:(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)(v.Header,{}),(0,a.jsx)("main",{className:"flex-1 bg-gray-50",children:(0,a.jsx)("div",{className:"qa-container py-8",children:(0,a.jsxs)("div",{className:"space-y-8",children:[(()=>{let e="true"===w.env.NEXT_PUBLIC_ENABLE_DEBUG,s=new URLSearchParams(window.location.search);return e&&(null==s?void 0:s.get("e2e_wallet"))==="connected"?(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsx)(b.ZB,{children:"钱包连接"})}),(0,a.jsx)(b.Wu,{children:(0,a.jsx)(b.n6,{showNetworkInfo:!0,showContractStatus:!0})})]}):null})(),(0,a.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"消息通知"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"查看您的投资消息、系统通知和重要提醒"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(b.$n,{variant:"outline",size:"lg",onClick:()=>{Z(e=>e.map(e=>({...e,read:!0}))),e.success("已全部标记为已读")},children:[(0,a.jsx)(l.A,{className:"w-4 h-4 mr-2"}),"全部已读"]}),(0,a.jsx)(j(),{href:"/settings",children:(0,a.jsxs)(b.$n,{variant:"outline",size:"lg",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"通知设置"]})})]})]}),(0,a.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(b.Zp,{children:(0,a.jsx)(b.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"全部消息"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:k.total})]}),(0,a.jsx)(n.A,{className:"w-8 h-8 text-blue-600"})]})})}),(0,a.jsx)(b.Zp,{children:(0,a.jsx)(b.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"未读消息"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:k.unread})]}),(0,a.jsx)(o.A,{className:"w-8 h-8 text-red-600"})]})})}),(0,a.jsx)(b.Zp,{children:(0,a.jsx)(b.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"本周消息"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:k.thisWeek})]}),(0,a.jsx)(x.A,{className:"w-8 h-8 text-green-600"})]})})}),(0,a.jsx)(b.Zp,{children:(0,a.jsx)(b.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"高优先级"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:k.high})]}),(0,a.jsx)(c.A,{className:"w-8 h-8 text-orange-600"})]})})})]}),(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)(b.pd,{placeholder:"搜索通知...",value:s,onChange:e=>t(e.target.value),className:"pl-10 w-64"})]}),(0,a.jsxs)(b.l6,{value:p,onValueChange:e=>C(e),children:[(0,a.jsx)(b.bq,{className:"w-32",children:(0,a.jsx)(b.yv,{placeholder:"状态"})}),(0,a.jsxs)(b.gC,{children:[(0,a.jsx)(b.eb,{value:"all",children:"全部"}),(0,a.jsx)(b.eb,{value:"unread",children:"未读"}),(0,a.jsx)(b.eb,{value:"read",children:"已读"})]})]}),(0,a.jsxs)(b.l6,{value:M,onValueChange:e=>E(e),children:[(0,a.jsx)(b.bq,{className:"w-32",children:(0,a.jsx)(b.yv,{placeholder:"类别"})}),(0,a.jsxs)(b.gC,{children:[(0,a.jsx)(b.eb,{value:"all",children:"全部类别"}),(0,a.jsx)(b.eb,{value:"investment",children:"投资"}),(0,a.jsx)(b.eb,{value:"market",children:"市场"}),(0,a.jsx)(b.eb,{value:"product",children:"产品"}),(0,a.jsx)(b.eb,{value:"security",children:"安全"}),(0,a.jsx)(b.eb,{value:"system",children:"系统"})]})]})]})}),(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:z.map((s,t)=>(0,a.jsx)(b.Zp,{className:"hover:shadow-md transition-all cursor-pointer ".concat(s.read?"opacity-75":"border-l-4 border-l-blue-500"," ").concat((e=>{switch(e){case"success":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"error":return"bg-red-50 border-red-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}})(s.type)),children:(0,a.jsx)(b.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[(e=>{switch(e){case"success":return(0,a.jsx)(l.A,{className:"w-5 h-5 text-green-600"});case"warning":return(0,a.jsx)(c.A,{className:"w-5 h-5 text-yellow-600"});case"error":return(0,a.jsx)(c.A,{className:"w-5 h-5 text-red-600"});case"info":return(0,a.jsx)(i.A,{className:"w-5 h-5 text-blue-600"});default:return(0,a.jsx)(n.A,{className:"w-5 h-5 text-gray-600"})}})(s.type),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"font-medium ".concat(s.read?"":"font-semibold"),children:s.title}),(0,a.jsx)(b.Ex,{variant:"outline",className:(e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"normal":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(s.priority),children:(e=>{switch(e){case"high":return"高";case"normal":return"中";case"low":return"低";default:return e}})(s.priority)}),(0,a.jsx)(b.Ex,{variant:"outline",className:"text-xs",children:(e=>{switch(e){case"investment":return"投资";case"market":return"市场";case"product":return"产品";case"security":return"安全";case"system":return"系统";default:return e}})(s.category)}),!s.read&&(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:s.message}),(0,a.jsx)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"w-3 h-3"}),(e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/6e4),a=Math.floor(t/60),r=Math.floor(a/24);return t<60?"".concat(t,"分钟前"):a<24?"".concat(a,"小时前"):r<7?"".concat(r,"天前"):s.toLocaleDateString("zh-CN")})(s.createdAt)]})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[s.read?(0,a.jsx)(b.$n,{variant:"ghost",size:"sm",onClick:t=>{var a;t.stopPropagation(),a=s.id,Z(e=>e.map(e=>e.id===a?{...e,read:!1}:e)),e.success("已标记为未读")},children:(0,a.jsx)(u.A,{className:"w-4 h-4"})}):(0,a.jsx)(b.$n,{variant:"ghost",size:"sm",onClick:t=>{var a;t.stopPropagation(),a=s.id,Z(e=>e.map(e=>e.id===a?{...e,read:!0}:e)),e.success("已标记为已读")},children:(0,a.jsx)(m.A,{className:"w-4 h-4"})}),(0,a.jsx)(b.$n,{variant:"ghost",size:"sm",onClick:t=>{var a;t.stopPropagation(),a=s.id,Z(e=>e.filter(e=>e.id!==a)),e.success("通知已删除")},children:(0,a.jsx)(y.A,{className:"w-4 h-4"})})]})]})})},s.id))}),0===z.length&&(0,a.jsx)(b.Zp,{children:(0,a.jsxs)(b.Wu,{className:"p-8 text-center",children:[(0,a.jsx)(n.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"暂无通知"}),(0,a.jsx)("p",{className:"text-gray-600",children:s?"没有找到匹配的通知":"您目前没有任何通知"})]})})]})})})]})})}},4672:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},17383:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("BellRing",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]])},30643:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},35083:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},40138:(e,s,t)=>{Promise.resolve().then(t.bind(t,3977))},40959:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},52856:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},52872:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},54980:(e,s,t)=>{"use strict";t.d(s,{G:()=>c});var a=t(67396),r=t(38276),l=t(16350);function c(){let[e,s]=(0,a.useState)(null),[c,i]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(async()=>{if(!(0,r.Iz)())return i(!0);try{let e=await t.e(4078).then(t.bind(t,84078));s(e.default),i(!0)}catch(e){l.vF.warn("SafeToast","Failed to load react-hot-toast, toasts disabled",{error:e}),i(!0)}})()},[]),{success:(0,a.useCallback)(s=>{c&&e&&e.success(s)},[c,e]),error:(0,a.useCallback)(s=>{c&&e?e.error(s):l.vF.error("SafeToast","Toast Error (fallback)",{message:s})},[c,e]),loading:(0,a.useCallback)(s=>{if(c&&e)return e.loading(s)},[c,e]),dismiss:(0,a.useCallback)(()=>{c&&e&&e.dismiss()},[c,e])}}},59202:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},59542:(e,s,t)=>{"use strict";t.d(s,{O:()=>i});var a=t(95688),r=t(87983),l=t(67396),c=t(32887);function i(e){let{children:s,requireKyc:t=!1,requireWallet:i=!1,requiredRoles:n=[]}=e,{user:d,isAuthenticated:o,isLoading:x}=(0,c.nc)(),h=(0,r.useRouter)(),u=(0,r.usePathname)();return(0,l.useEffect)(()=>{if(!x){if(!o){let e=encodeURIComponent(u);h.push("/auth/login?redirect=".concat(e));return}if(n.length>0&&d&&!n.includes(d.role))return void h.push("/dashboard");if(t&&d&&"APPROVED"!==d.kycStatus)return void h.push("/kyc");i&&d&&(!d.wallets||0===d.wallets.length)&&h.push("/dashboard/wallets")}},[!1,o,x,d,u,h,t,i,n]),x?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"正在验证身份..."})]})}):o?(0,a.jsx)(a.Fragment,{children:s}):null}},70541:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},77346:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},87340:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},e=>{e.O(0,[4104,9086,896,2683,1284,2039,2202,7834,4171,7172,7358],()=>e(e.s=40138)),_N_E=e.O()}]);