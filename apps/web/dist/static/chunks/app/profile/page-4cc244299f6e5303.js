(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{4672:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(61200).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},7608:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(61200).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},11564:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(61200).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},35817:(e,s,a)=>{Promise.resolve().then(a.bind(a,71700))},52856:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(61200).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},52872:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(61200).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},54980:(e,s,a)=>{"use strict";a.d(s,{G:()=>c});var t=a(67396),l=a(38276),r=a(16350);function c(){let[e,s]=(0,t.useState)(null),[c,i]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{(async()=>{if(!(0,l.Iz)())return i(!0);try{let e=await a.e(4078).then(a.bind(a,84078));s(e.default),i(!0)}catch(e){r.vF.warn("SafeToast","Failed to load react-hot-toast, toasts disabled",{error:e}),i(!0)}})()},[]),{success:(0,t.useCallback)(s=>{c&&e&&e.success(s)},[c,e]),error:(0,t.useCallback)(s=>{c&&e?e.error(s):r.vF.error("SafeToast","Toast Error (fallback)",{message:s})},[c,e]),loading:(0,t.useCallback)(s=>{if(c&&e)return e.loading(s)},[c,e]),dismiss:(0,t.useCallback)(()=>{c&&e&&e.dismiss()},[c,e])}}},57824:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(61200).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},59542:(e,s,a)=>{"use strict";a.d(s,{O:()=>i});var t=a(95688),l=a(87983),r=a(67396),c=a(32887);function i(e){let{children:s,requireKyc:a=!1,requireWallet:i=!1,requiredRoles:d=[]}=e,{user:n,isAuthenticated:o,isLoading:x}=(0,c.nc)(),m=(0,l.useRouter)(),h=(0,l.usePathname)();return(0,r.useEffect)(()=>{if(!x){if(!o){let e=encodeURIComponent(h);m.push("/auth/login?redirect=".concat(e));return}if(d.length>0&&n&&!d.includes(n.role))return void m.push("/dashboard");if(a&&n&&"APPROVED"!==n.kycStatus)return void m.push("/kyc");i&&n&&(!n.wallets||0===n.wallets.length)&&m.push("/dashboard/wallets")}},[!1,o,x,n,h,m,a,i,d]),x?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"正在验证身份..."})]})}):o?(0,t.jsx)(t.Fragment,{children:s}):null}},62086:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(61200).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},71700:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C});var t=a(95688),l=a(27100),r=a(7608),c=a(11564),i=a(49945),d=a(93482),n=a(57297),o=a(62086),x=a(80726),m=a(52856),h=a(52872),u=a(79288),j=a(6218),y=a(57824),p=a(67396),v=a(59542),N=a(97834),b=a(32887),f=a(54980),g=a(63186),w=a(16350),k=a(37811);let A={id:"user-001",email:"john.doe@example.com",firstName:"John",lastName:"Doe",displayName:"John Doe",phoneNumber:"+86 138 0013 8000",avatar:"/avatars/user-001.jpg",dateOfBirth:"1990-05-15",gender:"MALE",nationality:"CN",address:{country:"中国",state:"北京市",city:"北京市",street:"朝阳区建国门外大街1号",postalCode:"100020"},occupation:"软件工程师",company:"TechCorp Inc.",website:"https://johndoe.dev",bio:"热爱技术和投资的软件工程师，专注于区块链和金融科技领域。",referralCode:"QA2024JOHN",createdAt:"2024-01-01T00:00:00Z",lastLoginAt:"2024-02-01T10:30:00Z",emailVerified:!0,phoneVerified:!0,twoFactorEnabled:!1};function C(){let e=(0,f.G)(),{user:s}=(0,b.nc)(),[a,C]=(0,p.useState)(A),[P,E]=(0,p.useState)(!1),[F,z]=(0,p.useState)(A),[M,S]=(0,p.useState)(!1),[V,T]=(0,p.useState)(!1),[_,L]=(0,p.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),O=async()=>{try{await navigator.clipboard.writeText(a.referralCode),e.success("推荐码已复制到剪贴板")}catch(s){e.error("复制失败")}},$=e=>new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"});return(0,t.jsx)(v.O,{children:(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)(N.Header,{}),(0,t.jsx)("main",{className:"flex-1 bg-gray-50",children:(0,t.jsx)("div",{className:"qa-container py-8",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"个人资料"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"管理您的个人信息和账户安全设置"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,t.jsx)(l.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:(0,t.jsx)(g.Zp,{children:(0,t.jsxs)(g.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsxs)("div",{className:"relative inline-block",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,t.jsx)(r.A,{className:"w-10 h-10 text-blue-600"})}),(0,t.jsx)("button",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white hover:bg-blue-700",children:(0,t.jsx)(c.A,{className:"w-3 h-3"})})]}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:a.displayName}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:a.email}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2 mt-2",children:[a.emailVerified&&(0,t.jsxs)("span",{className:"flex items-center text-xs text-green-600",children:[(0,t.jsx)(i.A,{className:"w-3 h-3 mr-1"}),"邮箱已验证"]}),a.phoneVerified&&(0,t.jsxs)("span",{className:"flex items-center text-xs text-green-600",children:[(0,t.jsx)(i.A,{className:"w-3 h-3 mr-1"}),"手机已验证"]})]})]}),(0,t.jsxs)("div",{className:"space-y-3 text-sm border-t pt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"注册时间"}),(0,t.jsx)("span",{children:$(a.createdAt)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"最后登录"}),(0,t.jsx)("span",{children:$(a.lastLoginAt)})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"双重认证"}),(0,t.jsx)(g.Ex,{variant:a.twoFactorEnabled?"default":"secondary",children:a.twoFactorEnabled?"已启用":"未启用"})]})]})]})})}),(0,t.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:[(0,t.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,t.jsxs)(g.Zp,{children:[(0,t.jsx)(g.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(g.ZB,{children:"基本信息"}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:P?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(g.$n,{size:"sm",onClick:()=>{C(F),E(!1),e.success("个人资料已更新")},children:[(0,t.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"保存"]}),(0,t.jsxs)(g.$n,{size:"sm",variant:"outline",onClick:()=>{z(a),E(!1)},children:[(0,t.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"取消"]})]}):(0,t.jsxs)(g.$n,{size:"sm",variant:"outline",onClick:()=>E(!0),children:[(0,t.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"编辑"]})})]})}),(0,t.jsxs)(g.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"姓"}),(0,t.jsx)(g.pd,{value:P?F.firstName||"":a.firstName||"",onChange:e=>P&&z(s=>({...s,firstName:e.target.value})),disabled:!P,placeholder:"请输入姓"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"名"}),(0,t.jsx)(g.pd,{value:P?F.lastName||"":a.lastName||"",onChange:e=>P&&z(s=>({...s,lastName:e.target.value})),disabled:!P,placeholder:"请输入名"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"邮箱地址"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.pd,{value:a.email,disabled:!0,className:"flex-1"}),a.emailVerified?(0,t.jsx)(i.A,{className:"w-5 h-5 text-green-600"}):(0,t.jsx)(g.$n,{size:"sm",children:"验证"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"手机号码"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.pd,{value:P?F.phoneNumber||"":a.phoneNumber||"",onChange:e=>P&&z(s=>({...s,phoneNumber:e.target.value})),disabled:!P,placeholder:"请输入手机号码",className:"flex-1"}),a.phoneVerified?(0,t.jsx)(i.A,{className:"w-5 h-5 text-green-600"}):(0,t.jsx)(g.$n,{size:"sm",children:"验证"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"职业"}),(0,t.jsx)(g.pd,{value:P?F.occupation||"":a.occupation||"",onChange:e=>P&&z(s=>({...s,occupation:e.target.value})),disabled:!P,placeholder:"请输入职业"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"公司"}),(0,t.jsx)(g.pd,{value:P?F.company||"":a.company||"",onChange:e=>P&&z(s=>({...s,company:e.target.value})),disabled:!P,placeholder:"请输入公司"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"推荐码"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.pd,{value:a.referralCode,disabled:!0,className:"flex-1"}),(0,t.jsx)(g.$n,{size:"sm",variant:"outline",onClick:O,children:(0,t.jsx)(x.A,{className:"w-4 h-4"})})]})]})]})]})}),(0,t.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,t.jsxs)(g.Zp,{children:[(0,t.jsx)(g.aR,{children:(0,t.jsx)(g.ZB,{children:"安全设置"})}),(0,t.jsxs)(g.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"修改密码"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"当前密码"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g.pd,{type:M?"text":"password",value:_.currentPassword,onChange:e=>L(s=>({...s,currentPassword:e.target.value})),placeholder:"请输入当前密码"}),(0,t.jsx)("button",{type:"button",onClick:()=>S(!M),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:M?(0,t.jsx)(m.A,{className:"w-4 h-4"}):(0,t.jsx)(h.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"新密码"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g.pd,{type:V?"text":"password",value:_.newPassword,onChange:e=>L(s=>({...s,newPassword:e.target.value})),placeholder:"请输入新密码"}),(0,t.jsx)("button",{type:"button",onClick:()=>T(!V),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:V?(0,t.jsx)(m.A,{className:"w-4 h-4"}):(0,t.jsx)(h.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"确认新密码"}),(0,t.jsx)(g.pd,{type:"password",value:_.confirmPassword,onChange:e=>L(s=>({...s,confirmPassword:e.target.value})),placeholder:"请再次输入新密码"})]})]}),(0,t.jsxs)(g.$n,{onClick:()=>_.newPassword!==_.confirmPassword?void e.error("新密码确认不匹配"):_.newPassword.length<8?void e.error("新密码至少需要8位字符"):void("true"===k.env.NEXT_PUBLIC_ENABLE_DEBUG&&w.vF.info("Profile","Changing password"),L({currentPassword:"",newPassword:"",confirmPassword:""}),e.success("密码修改成功")),disabled:!_.currentPassword||!_.newPassword,children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"更改密码"]})]})]}),(0,t.jsxs)("div",{className:"border-t pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"双重认证"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"为您的账户添加额外的安全保护"})]}),(0,t.jsxs)(g.$n,{onClick:()=>{C(e=>({...e,twoFactorEnabled:!e.twoFactorEnabled})),e.success(a.twoFactorEnabled?"双重认证已禁用":"双重认证已启用")},variant:a.twoFactorEnabled?"default":"outline",children:[(0,t.jsx)(j.A,{className:"w-4 h-4 mr-2"}),a.twoFactorEnabled?"禁用":"启用"]})]}),!a.twoFactorEnabled&&(0,t.jsxs)(g.Fc,{className:"mt-4",children:[(0,t.jsx)(y.A,{className:"h-4 w-4"}),(0,t.jsx)(g.TN,{children:"建议启用双重认证以提高账户安全性"})]})]})]})]})})]})]})]})})})]})})}},79288:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(61200).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},80726:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(61200).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},93482:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(61200).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])}},e=>{e.O(0,[4104,9086,896,2683,1284,2039,2202,7834,4171,7172,7358],()=>e(e.s=35817)),_N_E=e.O()}]);