(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9691],{2548:(e,s,t)=>{Promise.resolve().then(t.bind(t,38537))},4672:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},11243:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},13559:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},24321:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},24877:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},32553:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},38537:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var a=t(95688),l=t(27100),r=t(11243),n=t(24877),c=t(23688);let i=(0,t(61200).A)("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var d=t(95598),x=t(40959),o=t(99599),u=t(32553),m=t(24321),h=t(52872),p=t(13559),y=t(57824),j=t(85210),v=t.n(j),g=t(67396),N=t(59542),f=t(97834),w=t(54980),A=t(63186),b=t(37811);let k=[{id:"inv-1",productName:"QA黄金卡",productType:"gold",principal:1e4,currentValue:11250,pnl:1250,pnlPercentage:12.5,apr:15,purchaseDate:"2024-01-15",maturityDate:"2024-03-15",status:"active",nextPayout:"2024-02-15",payoutAmount:41.67},{id:"inv-2",productName:"QA钻石卡",productType:"diamond",principal:15e3,currentValue:16600,pnl:1600,pnlPercentage:10.67,apr:18,purchaseDate:"2024-01-01",maturityDate:"2024-04-01",status:"active",nextPayout:"2024-02-01",payoutAmount:74.18},{id:"inv-3",productName:"QA白银卡",productType:"silver",principal:5e3,currentValue:5125,pnl:125,pnlPercentage:2.5,apr:12,purchaseDate:"2024-01-20",maturityDate:"2024-02-20",status:"completed",nextPayout:null,payoutAmount:0}],P={totalInvested:3e4,currentValue:33475,totalPnL:2975,totalPnLPercentage:9.92,activeInvestments:2,completedInvestments:1};function C(){let e=(0,w.G)(),[s,t]=(0,g.useState)(""),[j,C]=(0,g.useState)("all"),[L,D]=(0,g.useState)("date"),S=k.filter(e=>{let t=e.productName.toLowerCase().includes(s.toLowerCase()),a="all"===j||e.status===j;return t&&a}),z=e=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e),E=e=>new Date(e).toLocaleDateString("zh-CN");return(0,a.jsx)(N.O,{children:(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)(f.Header,{}),(0,a.jsx)("main",{className:"flex-1 bg-gray-50",children:(0,a.jsx)("div",{className:"qa-container py-8",children:(0,a.jsxs)("div",{className:"space-y-8",children:[(()=>{let e="true"===b.env.NEXT_PUBLIC_ENABLE_DEBUG,s=new URLSearchParams(window.location.search);return e&&(null==s?void 0:s.get("e2e_wallet"))==="connected"?(0,a.jsxs)(A.Zp,{className:"mb-2",children:[(0,a.jsx)(A.aR,{children:(0,a.jsx)(A.ZB,{children:"钱包连接"})}),(0,a.jsx)(A.Wu,{children:(0,a.jsx)(A.n6,{showNetworkInfo:!0,showContractStatus:!0})})]}):null})(),(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"投资管理"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"管理您的投资组合，查看收益情况和投资详情"})]}),(0,a.jsx)(v(),{href:"/products",children:(0,a.jsxs)(A.$n,{size:"lg",children:[(0,a.jsx)(r.A,{className:"w-4 h-4 mr-2"}),"新增投资"]})})]}),(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(A.Zp,{children:(0,a.jsx)(A.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"总投资金额"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:z(P.totalInvested)})]}),(0,a.jsx)(n.A,{className:"w-8 h-8 text-blue-600"})]})})}),(0,a.jsx)(A.Zp,{children:(0,a.jsx)(A.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"当前价值"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:z(P.currentValue)})]}),(0,a.jsx)(c.A,{className:"w-8 h-8 text-green-600"})]})})}),(0,a.jsx)(A.Zp,{children:(0,a.jsx)(A.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"总盈亏"}),(0,a.jsxs)("p",{className:"text-2xl font-bold ".concat(P.totalPnL>=0?"text-green-600":"text-red-600"),children:[P.totalPnL>=0?"+":"",z(P.totalPnL)]}),(0,a.jsxs)("p",{className:"text-xs ".concat(P.totalPnL>=0?"text-green-600":"text-red-600"),children:[P.totalPnL>=0?"+":"",P.totalPnLPercentage.toFixed(2),"%"]})]}),(0,a.jsx)(i,{className:"w-8 h-8 text-purple-600"})]})})}),(0,a.jsx)(A.Zp,{children:(0,a.jsx)(A.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"活跃投资"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:P.activeInvestments}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["总计 ",P.activeInvestments+P.completedInvestments," 项投资"]})]}),(0,a.jsx)(d.A,{className:"w-8 h-8 text-orange-600"})]})})})]}),(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)(A.pd,{placeholder:"搜索投资产品...",value:s,onChange:e=>t(e.target.value),className:"pl-10 w-64"})]}),(0,a.jsxs)("select",{value:j,onChange:e=>C(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"全部状态"}),(0,a.jsx)("option",{value:"active",children:"活跃"}),(0,a.jsx)("option",{value:"completed",children:"已完成"}),(0,a.jsx)("option",{value:"pending",children:"待处理"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(A.$n,{variant:"outline",size:"sm",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"导出"]}),(0,a.jsxs)(A.$n,{variant:"outline",size:"sm",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"筛选"]})]})]}),(0,a.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4",children:S.map((s,t)=>(0,a.jsx)(A.Zp,{className:"hover:shadow-md transition-shadow",children:(0,a.jsx)(A.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:s.productName}),(0,a.jsx)(A.Ex,{className:(e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(s.status),children:(e=>{switch(e){case"active":return"活跃";case"completed":return"已完成";case"pending":return"待处理";default:return e}})(s.status)}),"active"===s.status&&(0,a.jsxs)(A.Ex,{variant:"outline",className:"text-green-600",children:[s.apr,"% APR"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"投资金额"}),(0,a.jsx)("p",{className:"font-medium",children:z(s.principal)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"当前价值"}),(0,a.jsx)("p",{className:"font-medium",children:z(s.currentValue)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"盈亏"}),(0,a.jsxs)("p",{className:"font-medium ".concat(s.pnl>=0?"text-green-600":"text-red-600"),children:[s.pnl>=0?"+":"",z(s.pnl),(0,a.jsxs)("span",{className:"ml-1 text-xs",children:["(",s.pnl>=0?"+":"",s.pnlPercentage.toFixed(2),"%)"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"购买日期"}),(0,a.jsx)("p",{className:"font-medium",children:E(s.purchaseDate)})]})]}),"active"===s.status&&s.nextPayout&&(0,a.jsxs)(A.Fc,{children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),(0,a.jsxs)(A.TN,{children:["下次分红: ",E(s.nextPayout)," - ",z(s.payoutAmount)]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(A.$n,{variant:"outline",size:"sm",onClick:()=>{var t;return t=s.id,void e.success("查看投资详情: ".concat(t))},children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"查看详情"]}),"active"===s.status&&s.payoutAmount>0&&(0,a.jsxs)(A.$n,{size:"sm",onClick:()=>(s.id,void e.success("收益领取成功")),children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"领取收益"]})]})]})})},s.id))}),0===S.length&&(0,a.jsx)(A.Zp,{children:(0,a.jsxs)(A.Wu,{className:"p-8 text-center",children:[(0,a.jsx)(y.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"暂无投资记录"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:s?"没有找到匹配的投资记录":"您还没有任何投资记录"}),(0,a.jsx)(v(),{href:"/products",children:(0,a.jsxs)(A.$n,{children:[(0,a.jsx)(r.A,{className:"w-4 h-4 mr-2"}),"开始投资"]})})]})})]})})})]})})}},40959:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},52872:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},54980:(e,s,t)=>{"use strict";t.d(s,{G:()=>n});var a=t(67396),l=t(38276),r=t(16350);function n(){let[e,s]=(0,a.useState)(null),[n,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(async()=>{if(!(0,l.Iz)())return c(!0);try{let e=await t.e(4078).then(t.bind(t,84078));s(e.default),c(!0)}catch(e){r.vF.warn("SafeToast","Failed to load react-hot-toast, toasts disabled",{error:e}),c(!0)}})()},[]),{success:(0,a.useCallback)(s=>{n&&e&&e.success(s)},[n,e]),error:(0,a.useCallback)(s=>{n&&e?e.error(s):r.vF.error("SafeToast","Toast Error (fallback)",{message:s})},[n,e]),loading:(0,a.useCallback)(s=>{if(n&&e)return e.loading(s)},[n,e]),dismiss:(0,a.useCallback)(()=>{n&&e&&e.dismiss()},[n,e])}}},57824:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},59542:(e,s,t)=>{"use strict";t.d(s,{O:()=>c});var a=t(95688),l=t(87983),r=t(67396),n=t(32887);function c(e){let{children:s,requireKyc:t=!1,requireWallet:c=!1,requiredRoles:i=[]}=e,{user:d,isAuthenticated:x,isLoading:o}=(0,n.nc)(),u=(0,l.useRouter)(),m=(0,l.usePathname)();return(0,r.useEffect)(()=>{if(!o){if(!x){let e=encodeURIComponent(m);u.push("/auth/login?redirect=".concat(e));return}if(i.length>0&&d&&!i.includes(d.role))return void u.push("/dashboard");if(t&&d&&"APPROVED"!==d.kycStatus)return void u.push("/kyc");c&&d&&(!d.wallets||0===d.wallets.length)&&u.push("/dashboard/wallets")}},[!1,x,o,d,m,u,t,c,i]),o?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"正在验证身份..."})]})}):x?(0,a.jsx)(a.Fragment,{children:s}):null}},95598:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},99599:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(61200).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])}},e=>{e.O(0,[4104,9086,896,2683,1284,2039,2202,7834,4171,7172,7358],()=>e(e.s=2548)),_N_E=e.O()}]);