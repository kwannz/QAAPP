(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105],{28490:(e,s,t)=>{"use strict";t.d(s,{j:()=>r});var a=t(95688),i=t(27100),l=t(56500);function r(e){let{tabs:s,activeTab:t,onTabChange:r,children:n,className:c}=e;return(0,a.jsxs)("div",{className:(0,l.cn)("space-y-4",c),children:[(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("div",{className:"flex space-x-8",children:s.map(e=>(0,a.jsxs)("button",{onClick:()=>r(e.id),className:(0,l.cn)("relative px-1 pb-4 text-sm font-medium transition-colors",t===e.id?"text-blue-600":"text-gray-500 hover:text-gray-700"),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.icon&&(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("span",{children:e.label}),e.badge&&(0,a.jsx)("span",{className:"ml-2 rounded-full bg-gray-100 px-2 py-0.5 text-xs text-gray-600",children:e.badge})]}),t===e.id&&(0,a.jsx)(i.P.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},e.id))})}),(0,a.jsx)("div",{className:"pt-4",children:n})]})}},49658:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eo});var a=t(95688),i=t(27100),l=t(6422),r=t(65561),n=t(23424);t(82007),t(30875);var c=t(70541),d=t(77346),o=t(87340),m=t(13559),x=t(59202),h=t(97068),u=t(23008),p=t(23688),g=t(7608),j=t(82638),f=t(41456),N=t(11564),v=t(49945),b=t(93482),y=t(57297),w=t(62086),A=t(55607),S=t(20347),T=t(40004),C=t(80726),P=t(61743),E=t(57824),I=t(17383),R=t(35083),O=t(40959),D=t(52872),k=t(82388),F=t(85210),Z=t.n(F),U=t(67396),z=t(69022),L=t(38276),_=t(16350);let M=null,B=async()=>(!M&&(0,L.Iz)()&&(M=(await t.e(4078).then(t.bind(t,84078))).toast),M),W={async success(e,s){if((0,L.Iz)()){let t=await B();t&&t.success(e,s)}},async error(e,s){if((0,L.Iz)()){let t=await B();t&&t.error(e,s)}else _.vF.error("Toast","Toast error (SSR fallback)",{message:e})},async loading(e,s){if((0,L.Iz)()){let t=await B();if(t)return t.loading(e,s)}return"mock-toast-id"},async dismiss(e){if((0,L.Iz)()){let s=await B();s&&s.dismiss(e)}},async promise(e,s,t){if((0,L.Iz)()){let a=await B();if(a)return a.promise(e,s,t)}return e.then(e=>e,e=>{throw _.vF.error("Toast","Toast promise error",{message:s.error(e),error:e}),e})}};var $=t(59542),V=t(28490),H=t(97834),G=t(32887),J=t(19073),Q=t(86217),K=t(76472),Y=t(55771),X=t(63186),q=t(37811);let ee=(0,k.default)(async()=>Promise.all([t.e(5006),t.e(8735),t.e(6701),t.e(1279),t.e(7701),t.e(449),t.e(5340),t.e(5392),t.e(7756)]).then(t.bind(t,17756)).then(e=>({default:e.UserNFTs})),{loadableGenerated:{webpack:()=>[17756]},loading:()=>(0,a.jsx)("div",{className:"animate-pulse bg-gray-200 rounded h-64"}),ssr:!1}),es={totalInvested:25e3,currentValue:27850,totalEarnings:2850,claimableRewards:125.5,activePositions:3},et=[{id:"pos-1",productName:"QA黄金卡",productType:"gold",principal:1e4,currentValue:11250,apr:15,startDate:"2024-01-15",endDate:"2024-03-15",nextPayoutAt:"2024-02-15T10:00:00Z",nextPayoutAmount:41.67,status:"active"},{id:"pos-2",productName:"QA钻石卡",productType:"diamond",principal:15e3,currentValue:16600,apr:18,startDate:"2024-01-01",endDate:"2024-04-01",nextPayoutAt:"2024-02-01T10:00:00Z",nextPayoutAmount:74.18,status:"active"}],ea={id:"user-001",email:"john.doe@example.com",firstName:"John",lastName:"Doe",displayName:"John Doe",phoneNumber:"+86 138 0013 8000",avatar:"/avatars/user-001.jpg",dateOfBirth:"1990-05-15",gender:"MALE",nationality:"CN",address:{country:"中国",state:"北京市",city:"北京市",street:"朝阳区建国门外大街1号",postalCode:"100020"},occupation:"软件工程师",company:"TechCorp Inc.",website:"https://johndoe.dev",bio:"热爱技术和投资的软件工程师，专注于区块链和金融科技领域。",referralCode:"QA2024JOHN",createdAt:"2024-01-01T00:00:00Z",lastLoginAt:"2024-02-01T10:30:00Z",emailVerified:!0,phoneVerified:!0,twoFactorEnabled:!1},ei=[{id:"kyc-1",type:"ID_CARD",status:"APPROVED",uploadedAt:"2024-01-02T10:00:00Z",reviewedAt:"2024-01-03T14:30:00Z",expiresAt:"2034-05-15T23:59:59Z",fileName:"id-card-front.jpg",fileSize:2.3},{id:"kyc-2",type:"PROOF_OF_ADDRESS",status:"APPROVED",uploadedAt:"2024-01-02T10:15:00Z",reviewedAt:"2024-01-03T14:35:00Z",fileName:"utility-bill.pdf",fileSize:1.8},{id:"kyc-3",type:"PASSPORT",status:"PENDING",uploadedAt:"2024-02-01T09:00:00Z",fileName:"passport.jpg",fileSize:3.1}],el={twoFactorEnabled:!1,emailNotifications:!0,smsNotifications:!1,loginNotifications:!0,withdrawalConfirmation:!0,ipWhitelist:[],lastPasswordChange:"2024-01-15T00:00:00Z",sessionTimeout:30},er=[{id:"device-1",deviceName:"iPhone 15 Pro",deviceType:"MOBILE",browser:"Safari",os:"iOS 17.2",ip:"192.168.1.100",location:"北京, 中国",lastLoginAt:"2024-02-01T10:30:00Z",isCurrentSession:!0},{id:"device-2",deviceName:"MacBook Pro",deviceType:"DESKTOP",browser:"Chrome",os:"macOS 14.2",ip:"192.168.1.101",location:"北京, 中国",lastLoginAt:"2024-01-31T18:45:00Z",isCurrentSession:!1},{id:"device-3",deviceName:"Windows PC",deviceType:"DESKTOP",browser:"Edge",os:"Windows 11",ip:"203.0.113.45",location:"上海, 中国",lastLoginAt:"2024-01-28T14:20:00Z",isCurrentSession:!1}],en=[{id:"notif-1",type:"TRANSACTION",category:"SUCCESS",title:"投资收益到账",message:"您的QA黄金卡产品产生了41.67 USDT的收益，已自动添加到您的账户余额中。",actionUrl:"/dashboard/earnings",actionText:"查看详情",isRead:!1,isStarred:!0,priority:"HIGH",channel:"PUSH",createdAt:"2024-02-01T10:30:00Z",metadata:{amount:41.67,productName:"QA黄金卡"}},{id:"notif-2",type:"SYSTEM",category:"INFO",title:"系统维护通知",message:"平台将于今晚22:00-24:00进行系统升级维护，期间部分功能可能受到影响，请提前做好准备。",isRead:!1,isStarred:!1,priority:"MEDIUM",channel:"EMAIL",createdAt:"2024-02-01T08:15:00Z",expiresAt:"2024-02-02T00:00:00Z"},{id:"notif-3",type:"SECURITY",category:"WARNING",title:"异常登录提醒",message:"检测到您的账户在新设备上登录（IP: 192.168.1.100），如非本人操作，请立即修改密码。",actionUrl:"/dashboard?tab=profile",actionText:"安全设置",isRead:!0,isStarred:!1,priority:"CRITICAL",channel:"SMS",createdAt:"2024-01-31T16:45:00Z",readAt:"2024-01-31T17:00:00Z"}],ec={pushNotifications:!0,emailNotifications:!0,smsNotifications:!1,marketingEmails:!0,transactionAlerts:!0,securityAlerts:!0,promotionNotices:!1},ed=[{title:"购买新产品",description:"浏览并购买投资产品",icon:l.A,href:"/products",color:"text-blue-600",bgColor:"bg-blue-100"},{title:"推荐好友",description:"分享推荐码获取佣金",icon:r.A,href:"/referral",color:"text-purple-600",bgColor:"bg-purple-100"}];function eo(){let{user:e}=(0,G.nc)(),s=(0,Q.u)("unifiedDashboard"),[t,r]=(0,U.useState)(!0),[k,F]=(0,U.useState)("overview"),[L,M]=(0,U.useState)(ea),[B,eo]=(0,U.useState)(el),[em]=(0,U.useState)(ei),[ex]=(0,U.useState)(er),[eh,eu]=(0,U.useState)(en),[ep,eg]=(0,U.useState)(ec),[ej,ef]=(0,U.useState)(!1),[eN,ev]=(0,U.useState)(ea),[eb,ey]=(0,U.useState)(!1),[ew,eA]=(0,U.useState)(!1),[eS,eT]=(0,U.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[eC,eP]=(0,U.useState)(!1),{address:eE,isConnected:eI,chainId:eR,chain:eO}=(0,Y.yu)(),{connect:eD,connectors:ek,isPending:eF}=(0,Y.hK)(),{disconnect:eZ}=(0,Y.Rh)(),eU=(0,K.We)(),{data:ez,refetch:eL}=(0,Y.Dm)({address:eE}),{data:e_}=(0,Y.Ki)({address:eE}),[eM,eB]=(0,U.useState)("all"),[eW,e$]=(0,U.useState)(""),[eV,eH]=(0,U.useState)([]);(0,U.useEffect)(()=>{let e=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(e)},[]);let eG=()=>{"true"===q.env.NEXT_PUBLIC_ENABLE_DEBUG&&_.vF.info("Dashboard","Claiming rewards"),W.success("收益领取成功!")},eJ=e=>{"true"===q.env.NEXT_PUBLIC_ENABLE_DEBUG&&_.vF.info("Dashboard","Viewing position",{positionId:e})},eQ=()=>{M(eN),ef(!1),W.success("个人资料已更新")},eK=()=>{ev(L),ef(!1)},eY=async()=>{if(eE)try{await navigator.clipboard.writeText(eE),eP(!0),W.success("地址已复制到剪贴板"),setTimeout(()=>eP(!1),2e3)}catch(e){W.error("复制失败")}},eX=()=>{eL(),eU.refetchBalance(),W.success("余额已刷新")},eq=async e=>{eu(s=>s.map(s=>s.id===e?{...s,isRead:!0,readAt:new Date().toISOString()}:s)),W.success("已标记为已读")},e0=async e=>{eu(s=>s.filter(s=>s.id!==e)),eH(s=>s.filter(s=>s!==e)),W.success("通知已删除")},e1=eh.filter(e=>{let s="all"===eM||e.type===eM,t=e.title.toLowerCase().includes(eW.toLowerCase())||e.message.toLowerCase().includes(eW.toLowerCase());return s&&t}),e2=eh.filter(e=>!e.isRead).length;(0,J.$i)(eR||1);let e4=[{id:"overview",label:"投资概览",icon:(0,a.jsx)(p.A,{className:"w-4 h-4"}),badge:null},{id:"profile",label:"个人资料",icon:(0,a.jsx)(g.A,{className:"w-4 h-4"}),badge:null},{id:"wallets",label:"钱包管理",icon:(0,a.jsx)(j.A,{className:"w-4 h-4"}),badge:eI?"connected":null},{id:"notifications",label:"通知中心",icon:(0,a.jsx)(x.A,{className:"w-4 h-4"}),badge:e2>0?e2:null}],e6=()=>(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold",children:["欢迎回来, ",(null==e?void 0:e.email)?e.email.split("@")[0]:"用户".concat(null==e?void 0:e.referralCode)]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"管理您的投资组合，查看收益情况，探索新的投资机会。"})]}),(0,a.jsx)(Z(),{href:"/products",children:(0,a.jsxs)(X.$n,{size:"lg",className:"group",children:[(0,a.jsx)(l.A,{className:"w-4 h-4 mr-2"}),"投资新产品"]})})]}),(0,a.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:(()=>{let e="true"===q.env.NEXT_PUBLIC_ENABLE_DEBUG,s=new URLSearchParams(window.location.search);return e&&(null==s?void 0:s.get("e2e_wallet"))==="connected"?(0,a.jsx)(X.n6,{showNetworkInfo:!0,showContractStatus:!0}):(0,a.jsx)(X.kI,{})})()}),(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"快捷操作"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ed.map((e,s)=>{let t=e.icon;return(0,a.jsx)(Z(),{href:e.href,children:(0,a.jsx)(X.Zp,{className:"qa-card-hover cursor-pointer h-full",children:(0,a.jsx)(X.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-lg ".concat(e.bgColor," flex items-center justify-center"),children:(0,a.jsx)(t,{className:"w-6 h-6 ".concat(e.color)})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-foreground",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]})]})})})},e.title)})})]}),(0,a.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:(0,a.jsx)(ee,{})}),(0,a.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:(0,a.jsx)(X.ol,{stats:es,positions:et,onClaimRewards:eG,onViewPosition:eJ})}),(0,a.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:(0,a.jsxs)(X.Zp,{children:[(0,a.jsxs)(X.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsx)(X.ZB,{children:"最近活动"}),(0,a.jsx)(X.$n,{variant:"ghost",size:"sm",children:(0,a.jsx)(f.A,{className:"w-4 h-4"})})]}),(0,a.jsx)(X.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[{type:"investment",title:"购买了 QA黄金卡",amount:"$10,000 USDT",time:"2小时前",status:"success"},{type:"payout",title:"收到分红收益",amount:"+$41.67 USDT",time:"1天前",status:"success"},{type:"referral",title:"推荐好友获得佣金",amount:"+$30.00 USDT",time:"3天前",status:"success"}].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("investment"===e.type?"bg-blue-100 text-blue-600":"payout"===e.type?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"),children:"investment"===e.type?"\uD83D\uDCB0":"payout"===e.type?"\uD83D\uDCC8":"\uD83C\uDF81"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.time})]})]}),(0,a.jsx)("div",{className:"font-medium text-sm ".concat(e.amount.startsWith("+")?"text-green-600":"text-foreground"),children:e.amount})]},"".concat(e.type,"-").concat(e.time)))})})]})})]});return t?(0,a.jsx)($.O,{children:(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)(H.Header,{}),(0,a.jsx)("main",{className:"flex-1 qa-container py-8",children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-64"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-96"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:["sk-1","sk-2","sk-3","sk-4"].map(e=>(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded-lg animate-pulse"},e))}),(0,a.jsx)("div",{className:"h-96 bg-gray-200 rounded-lg animate-pulse"})]})})]})}):(0,a.jsx)($.O,{children:(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)(H.Header,{}),(0,a.jsx)("main",{className:"flex-1 bg-gray-50",children:(0,a.jsx)("div",{className:"qa-container py-8",children:(0,a.jsx)("div",{className:"space-y-8",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:(0,a.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"用户中心"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"管理您的投资组合、个人资料、钱包和通知设置"})]})})}),(0,a.jsx)(V.j,{tabs:e4,activeTab:k,onTabChange:e=>F(e),children:(()=>{switch(k){case"overview":default:return e6();case"profile":return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsx)(X.Zp,{children:(0,a.jsx)(X.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(g.A,{className:"w-10 h-10 text-blue-600"})}),(0,a.jsx)("button",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white hover:bg-blue-700",children:(0,a.jsx)(N.A,{className:"w-3 h-3"})})]}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:L.displayName}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:L.email}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mt-2",children:[L.emailVerified&&(0,a.jsxs)("span",{className:"flex items-center text-xs text-green-600",children:[(0,a.jsx)(v.A,{className:"w-3 h-3 mr-1"}),"邮箱已验证"]}),L.phoneVerified&&(0,a.jsxs)("span",{className:"flex items-center text-xs text-green-600",children:[(0,a.jsx)(v.A,{className:"w-3 h-3 mr-1"}),"手机已验证"]})]})]})})}),(0,a.jsx)("div",{className:"lg:col-span-3",children:(0,a.jsxs)(X.Zp,{children:[(0,a.jsx)(X.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(X.ZB,{children:"基本信息"}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:ej?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(X.$n,{size:"sm",onClick:eQ,children:[(0,a.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"保存"]}),(0,a.jsxs)(X.$n,{size:"sm",variant:"outline",onClick:eK,children:[(0,a.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"取消"]})]}):(0,a.jsxs)(X.$n,{size:"sm",variant:"outline",onClick:()=>ef(!0),children:[(0,a.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"编辑"]})})]})}),(0,a.jsxs)(X.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"姓"}),(0,a.jsx)(X.pd,{value:ej?eN.firstName||"":L.firstName||"",onChange:e=>ej&&ev(s=>({...s,firstName:e.target.value})),disabled:!ej,placeholder:"请输入姓"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"名"}),(0,a.jsx)(X.pd,{value:ej?eN.lastName||"":L.lastName||"",onChange:e=>ej&&ev(s=>({...s,lastName:e.target.value})),disabled:!ej,placeholder:"请输入名"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"邮箱地址"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(X.pd,{value:L.email,disabled:!0,className:"flex-1"}),L.emailVerified?(0,a.jsx)(v.A,{className:"w-5 h-5 text-green-600"}):(0,a.jsx)(X.$n,{size:"sm",children:"验证"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"手机号码"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(X.pd,{value:ej?eN.phoneNumber||"":L.phoneNumber||"",onChange:e=>ej&&ev(s=>({...s,phoneNumber:e.target.value})),disabled:!ej,placeholder:"请输入手机号码",className:"flex-1"}),L.phoneVerified?(0,a.jsx)(v.A,{className:"w-5 h-5 text-green-600"}):(0,a.jsx)(X.$n,{size:"sm",children:"验证"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"推荐码"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(X.pd,{value:L.referralCode,disabled:!0,className:"flex-1"}),(0,a.jsx)(X.$n,{size:"sm",variant:"outline",children:(0,a.jsx)(A.A,{className:"w-4 h-4"})})]})]})]})]})})]});case"wallets":return(0,a.jsx)("div",{className:"space-y-6",children:eI?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(X.Zp,{children:[(0,a.jsx)(X.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(X.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-5 h-5 text-green-600"}),"已连接钱包"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(X.$n,{variant:"outline",size:"sm",onClick:eX,children:(0,a.jsx)(S.A,{className:"w-4 h-4"})}),(0,a.jsx)(X.$n,{variant:"outline",size:"sm",onClick:()=>eZ(),children:(0,a.jsx)(T.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsxs)(X.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"当前网络"}),(0,a.jsx)("p",{className:"font-medium",children:(null==eO?void 0:eO.name)||"未知网络"})]}),(0,a.jsxs)(X.Ex,{variant:(null==eO?void 0:eO.id)===1?"default":"secondary",children:["Chain ID: ",eR]})]}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"钱包地址"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-mono text-sm",children:"".concat(eE.slice(0,6),"...").concat(eE.slice(-4))}),e_&&(0,a.jsx)(X.Ex,{variant:"outline",children:e_})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(X.$n,{variant:"ghost",size:"sm",onClick:eY,children:eC?(0,a.jsx)(c.A,{className:"w-4 h-4 text-green-600"}):(0,a.jsx)(C.A,{className:"w-4 h-4"})}),(0,a.jsx)(X.$n,{variant:"ghost",size:"sm",onClick:()=>window.open(eE&&eR?"".concat({1:"https://etherscan.io",137:"https://polygonscan.com",42161:"https://arbiscan.io",0xaa36a7:"https://sepolia.etherscan.io"}[eR]||"https://etherscan.io","/address/").concat(eE):"#","_blank"),children:(0,a.jsx)(P.A,{className:"w-4 h-4"})})]})]})})]})]}),(0,a.jsxs)(X.Zp,{children:[(0,a.jsx)(X.aR,{children:(0,a.jsx)(X.ZB,{children:"资产余额"})}),(0,a.jsx)(X.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-blue-600 font-bold text-sm",children:"ETH"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"以太坊"}),(0,a.jsxs)("p",{className:"font-semibold",children:[ez?Number.parseFloat((0,z.J)(ez.value,18)).toFixed(4):"0.0000"," ETH"]})]})]})}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-green-600 font-bold text-sm",children:"USDT"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"泰达币"}),(0,a.jsxs)("p",{className:"font-semibold",children:[eU.formatBalance()," USDT"]})]})]})})]})})]})]}):(0,a.jsxs)(X.Zp,{children:[(0,a.jsx)(X.aR,{children:(0,a.jsxs)(X.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"w-6 h-6"}),"连接钱包"]})}),(0,a.jsxs)(X.Wu,{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"请选择一个钱包连接到QA投资平台，开始您的DeFi投资之旅"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ek.map(e=>(0,a.jsxs)(X.$n,{onClick:()=>eD({connector:e}),disabled:eF,variant:"outline",className:"h-16 justify-start gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)(j.A,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"injected"===e.id?"浏览器钱包":"官方钱包"})]})]},e.id))}),(0,a.jsxs)(X.Fc,{children:[(0,a.jsx)(E.A,{className:"h-4 w-4"}),(0,a.jsx)(X.TN,{children:"连接钱包后，您可以投资我们的固定收益产品并获得NFT投资凭证"})]})]})]})});case"notifications":return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(X.Zp,{children:(0,a.jsx)(X.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"全部通知"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:eh.length})]}),(0,a.jsx)(x.A,{className:"w-8 h-8 text-blue-600"})]})})}),(0,a.jsx)(X.Zp,{children:(0,a.jsx)(X.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"未读通知"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:e2})]}),(0,a.jsx)(I.A,{className:"w-8 h-8 text-orange-600"})]})})}),(0,a.jsx)(X.Zp,{children:(0,a.jsx)(X.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"星标通知"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:eh.filter(e=>e.isStarred).length})]}),(0,a.jsx)(m.A,{className:"w-8 h-8 text-yellow-600"})]})})}),(0,a.jsx)(X.Zp,{children:(0,a.jsx)(X.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"今日新增"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:eh.filter(e=>{let s=new Date().toDateString();return new Date(e.createdAt).toDateString()===s}).length})]}),(0,a.jsx)(R.A,{className:"w-8 h-8 text-green-600"})]})})})]}),(0,a.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(O.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)(X.pd,{placeholder:"搜索通知...",value:eW,onChange:e=>e$(e.target.value),className:"pl-10 w-80"})]}),(0,a.jsxs)("select",{value:eM,onChange:e=>eB(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"所有类型"}),(0,a.jsx)("option",{value:"TRANSACTION",children:"交易"}),(0,a.jsx)("option",{value:"SYSTEM",children:"系统"}),(0,a.jsx)("option",{value:"SECURITY",children:"安全"}),(0,a.jsx)("option",{value:"MARKETING",children:"营销"}),(0,a.jsx)("option",{value:"PROMOTION",children:"推广"})]})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[e1.slice(0,10).map(e=>{let s=(e=>{switch(e){case"TRANSACTION":return c.A;case"SYSTEM":return d.A;case"SECURITY":return o.A;case"MARKETING":case"PROMOTION":return m.A;default:return x.A}})(e.type),t=(e=>{switch(e){case"EMAIL":return h.A;case"SMS":return n.A;case"PUSH":return x.A;default:return u.A}})(e.channel),i=e.expiresAt&&new Date(e.expiresAt)<new Date;return(0,a.jsx)(X.Zp,{className:"transition-all hover:shadow-md ".concat(e.isRead?"":"bg-blue-50 border-l-4 border-blue-500"," ").concat((e=>{switch(e){case"CRITICAL":return"border-l-4 border-red-500";case"HIGH":return"border-l-4 border-orange-500";case"MEDIUM":return"border-l-4 border-yellow-500";default:return"border-l-4 border-gray-300"}})(e.priority)," ").concat(i?"opacity-60":""),children:(0,a.jsx)(X.Wu,{className:"p-4",children:(0,a.jsx)("div",{className:"flex items-start space-x-3",children:(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)(s,{className:"w-4 h-4 text-gray-600"}),(0,a.jsx)("h3",{className:"font-semibold ".concat(e.isRead?"text-gray-700":"text-gray-900"),children:e.title}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"SUCCESS":return"text-green-600 bg-green-100";case"WARNING":return"text-orange-600 bg-orange-100";case"ERROR":return"text-red-600 bg-red-100";default:return"text-blue-600 bg-blue-100"}})(e.category)),children:"SUCCESS"===e.category?"成功":"WARNING"===e.category?"警告":"ERROR"===e.category?"错误":"信息"})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:e.message}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(t,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.channel})]}),(0,a.jsx)("span",{children:(e=>{let s=new Date(e),t=(new Date().getTime()-s.getTime())/36e5;return t<1?"刚刚":t<24?"".concat(Math.floor(t),"小时前"):t<48?"1天前":s.toLocaleDateString("zh-CN")})(e.createdAt)})]}),e.actionUrl&&!i&&(0,a.jsx)(X.$n,{size:"sm",variant:"outline",children:e.actionText||"查看"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 ml-4",children:[(0,a.jsx)(X.$n,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void eu(e=>e.map(e=>e.id===s?{...e,isStarred:!e.isStarred}:e))},className:e.isStarred?"text-yellow-600":"text-gray-400",children:(0,a.jsx)(m.A,{className:"w-4 h-4 ".concat(e.isStarred?"fill-current":"")})}),(0,a.jsx)(X.$n,{variant:"ghost",size:"sm",onClick:async()=>eq(e.id),children:(0,a.jsx)(D.A,{className:"w-4 h-4"})}),(0,a.jsx)(X.$n,{variant:"ghost",size:"sm",onClick:async()=>e0(e.id),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(T.A,{className:"w-4 h-4"})})]})]})})})})},e.id)}),0===e1.length&&(0,a.jsx)(X.Zp,{children:(0,a.jsxs)(X.Wu,{className:"p-8 text-center",children:[(0,a.jsx)(x.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"暂无通知"}),(0,a.jsx)("p",{className:"text-gray-600",children:eW?"没有找到匹配的通知":"您目前没有任何通知"})]})})]})]})}})()})]}):e6()})})})]})})}},56846:(e,s,t)=>{Promise.resolve().then(t.bind(t,49658))},59542:(e,s,t)=>{"use strict";t.d(s,{O:()=>n});var a=t(95688),i=t(87983),l=t(67396),r=t(32887);function n(e){let{children:s,requireKyc:t=!1,requireWallet:n=!1,requiredRoles:c=[]}=e,{user:d,isAuthenticated:o,isLoading:m}=(0,r.nc)(),x=(0,i.useRouter)(),h=(0,i.usePathname)();return(0,l.useEffect)(()=>{if(!m){if(!o){let e=encodeURIComponent(h);x.push("/auth/login?redirect=".concat(e));return}if(c.length>0&&d&&!c.includes(d.role))return void x.push("/dashboard");if(t&&d&&"APPROVED"!==d.kycStatus)return void x.push("/kyc");n&&d&&(!d.wallets||0===d.wallets.length)&&x.push("/dashboard/wallets")}},[!1,o,m,d,h,x,t,n,c]),m?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"正在验证身份..."})]})}):o?(0,a.jsx)(a.Fragment,{children:s}):null}},86217:(e,s,t)=>{"use strict";t.d(s,{u:()=>c}),t(67396);var a=t(16350),i=t(37811);let l={newOperationsCenter:{enabled:!0,rolloutPercentage:100,description:"新运营中心 - 整合用户、产品、订单、代理、提现管理",environments:["development","staging"],dependencies:["entityManager","dataTable"],deprecates:["/admin/users","/admin/products","/admin/orders","/admin/agents","/admin/withdrawals"]},newAnalyticsCenter:{enabled:!0,rolloutPercentage:100,description:"新分析中心 - 整合佣金、报表、通知管理",environments:["development","staging"],dependencies:["dataTable","formBuilder"],deprecates:["/admin/commissions","/admin/reports","/admin/notifications"]},unifiedDashboard:{enabled:!0,rolloutPercentage:100,description:"统一用户仪表板 - 集成个人资料、钱包、通知",environments:["development","staging"],dependencies:["formBuilder"],deprecates:["/dashboard/profile","/dashboard/wallets","/dashboard/notifications"]},newMonitoringAPI:{enabled:!0,rolloutPercentage:100,description:"新监控API模块 - 整合日志、审计、告警、性能",environments:["development","staging"],deprecates:["/api/logs","/api/audit","/api/alerts","/api/performance"]},newFinanceAPI:{enabled:!0,rolloutPercentage:100,description:"新金融API模块 - 整合订单、头寸、交易、佣金",environments:["development","staging"],deprecates:["/api/payouts","/api/withdrawals"]},entityManager:{enabled:!0,rolloutPercentage:100,description:"通用实体管理器组件",environments:["development","staging","production"]},dataTable:{enabled:!0,rolloutPercentage:100,description:"通用数据表格组件",environments:["development","staging","production"]},formBuilder:{enabled:!0,rolloutPercentage:100,description:"动态表单构建器组件",environments:["development","staging","production"]},mockServiceV2:{enabled:!1,rolloutPercentage:0,description:"集中Mock数据管理服务",environments:["development"]},performanceOptimization:{enabled:!0,rolloutPercentage:100,description:"性能优化 - 代码分割、懒加载、图片优化",environments:["development","staging","production"]}};class r{hashCode(e){let s=0;for(let t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t),s&=s;return Math.abs(s)%r.PERCENT_SCALE}isEnabled(e){let s=this.flags[e];return!!s&&!!s.environments.includes(this.environment)&&!!s.enabled&&(!s.dependencies||!!s.dependencies.every(e=>this.isEnabled(e)))&&(!(s.rolloutPercentage<r.PERCENT_SCALE)||this.userHash<s.rolloutPercentage)}getEnabledFlags(){return Object.keys(this.flags).filter(e=>this.isEnabled(e))}getFlagConfig(e){return this.flags[e]||null}getDeprecatedRoutes(){let e=[];for(let[s,t]of Object.entries(this.flags))this.isEnabled(s)&&t.deprecates&&e.push(...t.deprecates);return e}enableFlag(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if("development"!==this.environment)return void a.vF.warn("FeatureFlags","Feature flags can only be modified in development environment");this.flags[e]={...this.flags[e],enabled:!0,rolloutPercentage:s};{let t=JSON.parse(localStorage.getItem("featureFlagOverrides")||"{}");t[e]={enabled:!0,rolloutPercentage:s},localStorage.setItem("featureFlagOverrides",JSON.stringify(t))}}disableFlag(e){if("development"!==this.environment)return void a.vF.warn("FeatureFlags","Feature flags can only be modified in development environment");this.flags[e]={...this.flags[e],enabled:!1,rolloutPercentage:0};{let s=JSON.parse(localStorage.getItem("featureFlagOverrides")||"{}");s[e]={enabled:!1,rolloutPercentage:0},localStorage.setItem("featureFlagOverrides",JSON.stringify(s))}}resetFlags(){"development"===this.environment&&(this.flags={...l},localStorage.removeItem("featureFlagOverrides"))}getStatus(){let e={};for(let[s,t]of Object.entries(this.flags))e[s]={enabled:this.isEnabled(s),percentage:t.rolloutPercentage,description:t.description};return e}constructor(){this.userHash=0,this.flags={...l},this.environment="production";let e=i.env.NEXT_PUBLIC_FEATURE_FLAGS;if(e)for(let s of e.split(",").map(e=>e.trim()))this.flags[s]&&(this.flags[s]={...this.flags[s],enabled:!0,rolloutPercentage:100});{let e=localStorage.getItem("userId")||"anonymous";this.userHash=this.hashCode(e)}}}r.PERCENT_SCALE=100;let n=new r;function c(e){return n.isEnabled(e)}}},e=>{e.O(0,[4104,9086,896,2683,1284,6905,5560,8002,2039,2202,7834,6472,4171,7172,7358],()=>e(e.s=56846)),_N_E=e.O()}]);