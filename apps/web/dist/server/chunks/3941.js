"use strict";exports.id=3941,exports.ids=[3941],exports.modules={1364:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(11213).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},19877:(a,b,c)=>{c.d(b,{f:()=>k});var d=c(2801),e=c(72734);let f=(0,c(11213).A)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);var g=c(38051),h=c(41060),i=c(8545),j=c(51316);function k({children:a,allowedRoles:b=["ADMIN"]}){let{user:c,isAuthenticated:k,isLoading:l}=(0,i.nc)(),[m,n]=(0,h.useState)(!0),o=(0,g.useRouter)();return l||m?(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,d.jsx)(j.Zp,{className:"w-96",children:(0,d.jsxs)(j.Wu,{className:"p-8 text-center",children:[(0,d.jsx)("div",{className:"flex justify-center mb-4",children:(0,d.jsx)(e.A,{className:"w-12 h-12 text-blue-600 animate-pulse"})}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"验证管理员权限"}),(0,d.jsx)("p",{className:"text-gray-600",children:"正在验证您的访问权限，请稍候..."}),(0,d.jsx)("div",{className:"mt-4 flex justify-center",children:(0,d.jsx)("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})})]})})}):k&&c&&b.includes(c.role||"")?(0,d.jsx)(d.Fragment,{children:a}):(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,d.jsx)(j.Zp,{className:"w-96",children:(0,d.jsxs)(j.Wu,{className:"p-8 text-center",children:[(0,d.jsx)("div",{className:"flex justify-center mb-4",children:(0,d.jsx)(f,{className:"w-12 h-12 text-red-600"})}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"访问被拒绝"}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"您没有访问管理后台的权限。只有管理员才能访问此区域。"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm text-gray-500",children:[(0,d.jsxs)("p",{children:["当前用户角色: ",c?.role||"未知"]}),(0,d.jsxs)("p",{children:["需要角色: ",b.join(", ")]})]}),(0,d.jsx)("button",{onClick:()=>o.push("/dashboard"),className:"mt-6 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"返回用户中心"})]})})})}c(29934)},24868:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(11213).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},27924:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(11213).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},38961:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(11213).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},63189:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(11213).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},63982:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(11213).A)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},65735:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(11213).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},72842:(a,b,c)=>{c.d(b,{U:()=>z});var d=c(2801),e=c(11213);let f=(0,e.A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var g=c(63189),h=c(97611),i=c(84576),j=c(38961),k=c(75050),l=c(92717);let m=(0,e.A)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);var n=c(67123),o=c(27924),p=c(1364),q=c(65735),r=c(63982),s=c(4892),t=c.n(s),u=c(38051),v=c(41060),w=c(8545),x=c(51316);let y=[{name:"总览",href:"/admin",icon:f,description:"系统概览和统计"},{name:"KYC审核",href:"/admin/kycreview",icon:g.A,description:"用户身份验证审核"},{name:"用户管理",href:"/admin/users",icon:h.A,description:"用户账户管理"},{name:"产品审核",href:"/admin/products",icon:i.A,description:"投资产品管理"},{name:"订单审核",href:"/admin/orders",icon:j.A,description:"交易订单审核"},{name:"提现审核",href:"/admin/withdrawals",icon:k.A,description:"资金提现审核"},{name:"审计日志",href:"/admin/audit-logs",icon:l.A,description:"系统操作记录"},{name:"代理管理",href:"/admin/agents",icon:m,description:"代理商管理"}];function z({children:a}){let[b,c]=(0,v.useState)(!1),{user:e,logout:f}=(0,w.nc)(),g=(0,u.usePathname)(),h=(0,u.useRouter)();return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsxs)("div",{className:`fixed inset-0 z-50 lg:hidden ${b?"block":"hidden"}`,children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>c(!1)}),(0,d.jsxs)("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white shadow-xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-4 py-6 border-b",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"管理后台"}),(0,d.jsx)(x.$n,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:(0,d.jsx)(n.A,{className:"w-5 h-5"})})]}),(0,d.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:y.map(a=>{let b=a.icon,e=g===a.href;return(0,d.jsxs)(t(),{href:a.href,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${e?"bg-blue-100 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>c(!1),children:[(0,d.jsx)(b,{className:"w-5 h-5 mr-3"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:a.name}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:a.description})]})]},a.name)})})]})]}),(0,d.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-80 lg:flex-col",children:(0,d.jsxs)("div",{className:"flex flex-1 flex-col bg-white border-r border-gray-200",children:[(0,d.jsx)("div",{className:"flex items-center px-6 py-6 border-b",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white font-bold",children:"QA"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"管理后台"}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"系统管理控制台"})]})]})}),(0,d.jsx)("nav",{className:"flex-1 px-6 py-6 space-y-2 overflow-y-auto",children:y.map(a=>{let b=a.icon,c=g===a.href;return(0,d.jsxs)(t(),{href:a.href,className:`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${c?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[(0,d.jsx)(b,{className:"w-5 h-5 mr-3 flex-shrink-0"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"font-medium",children:a.name}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-0.5",children:a.description})]})]},a.name)})}),(0,d.jsx)("div",{className:"px-6 py-4 border-t",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e?.email?.[0]?.toUpperCase()||"A"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e?.email?.split("@")[0]||"管理员"}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:e?.role||"ADMIN"})]})]}),(0,d.jsx)(x.$n,{variant:"ghost",size:"sm",onClick:()=>{f(),h.push("/auth/login")},className:"text-gray-500 hover:text-gray-700",children:(0,d.jsx)(o.A,{className:"w-4 h-4"})})]})})]})}),(0,d.jsxs)("div",{className:"lg:pl-80",children:[(0,d.jsx)("div",{className:"sticky top-0 z-40 bg-white border-b border-gray-200 px-4 py-4 lg:px-8",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)(x.$n,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"lg:hidden",children:(0,d.jsx)(p.A,{className:"w-5 h-5"})}),(0,d.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,d.jsx)(q.A,{className:"w-4 h-4 text-gray-400"}),(0,d.jsx)(x.pd,{placeholder:"搜索用户、订单、日志...",className:"w-80"})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)(x.$n,{variant:"ghost",size:"sm",className:"relative",children:[(0,d.jsx)(r.A,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,d.jsxs)("div",{className:"hidden lg:flex items-center space-x-3",children:[(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e?.email?.split("@")[0]||"管理员"}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:e?.role||"ADMIN"})]}),(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e?.email?.[0]?.toUpperCase()||"A"})})]})]})]})}),(0,d.jsx)("main",{className:"flex-1 px-4 py-8 lg:px-8",children:a})]})]})}},75050:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(11213).A)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},84576:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(11213).A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},92717:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(11213).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},97611:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(11213).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}};