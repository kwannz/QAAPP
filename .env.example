# ===================================
# 架构精简配置开关
# ===================================

# GraphQL支持（默认关闭）
USE_GRAPHQL=false

# 二级缓存（Redis）开关（默认关闭，仅使用L1内存缓存）
CACHE_L2_ENABLED=false

# WebSocket支持（默认关闭）
WEBSOCKET_ENABLED=false

# CSP策略预设（default/strict）
CSP_PRESET=default

# ===================================
# Mock服务开关（生产环境必须为false）
# ===================================

# 使用Mock数据库（仅用于测试）
USE_MOCK_DATABASE=false

# 使用Mock认证服务（仅用于测试）
USE_MOCK_AUTH=false

# 使用Mock业务服务（仅用于测试）
USE_MOCK_SERVICES=false

# ===================================
# 数据库配置
# ===================================

# PostgreSQL配置
DATABASE_URL="postgresql://qa_user:qa_password@localhost:5432/qa_database?schema=public"

# SQLite配置（开发环境）
DATABASE_URL_SQLITE="file:./packages/database/prisma/dev.db"

# ===================================
# Redis配置（当CACHE_L2_ENABLED=true时生效）
# ===================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===================================
# 应用配置
# ===================================

# API配置
API_PORT=3001
API_PREFIX=api

# Web配置
WEB_PORT=3002

# JWT配置
JWT_SECRET=your-jwt-secret-key-change-in-production
JWT_EXPIRES_IN=7d

# ===================================
# 环境配置
# ===================================

NODE_ENV=development
LOG_LEVEL=info

# ===================================
# 监控与性能
# ===================================

# 性能阈值（用于触发优化）
API_P95_THRESHOLD_MS=200
ERROR_RATE_THRESHOLD=0.005
CACHE_HIT_RATE_THRESHOLD=0.7
REDIS_RTT_THRESHOLD_MS=3